(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{387:function(e,o,t){"use strict";t.r(o);var v=t(27),_=Object(v.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"solutions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#solutions"}},[e._v("#")]),e._v(" Solutions")]),e._v(" "),t("p",[e._v("Problems that we came across and solutions to them. If you have any better ideas, please feel free to propose a PR or issue.")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("A route can create different caches with different "),t("code",[e._v("route.params")]),e._v(" or "),t("code",[e._v("route.query")]),e._v(":")]),e._v(" "),t("p",[e._v("set a "),t("code",[e._v("key")]),e._v(" prop to "),t("code",[e._v("<router-view>")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("Caches control with "),t("code",[e._v("<keep-alive>")]),e._v(":")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Get instance of "),t("code",[e._v("<keep-alive>")]),e._v(":")]),e._v(" "),t("p",[t("code",[e._v("this._vnode.children[0].child._vnode.componentInstance")])])]),e._v(" "),t("li",[t("p",[e._v("Match and remove cache.")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Match: "),t("code",[e._v("$alive.cache[i].data.key === key")])])]),e._v(" "),t("li",[t("p",[e._v("Destroy: "),t("code",[e._v("$alive.cache[key].componentInstance.$destroy()")])])]),e._v(" "),t("li",[t("p",[e._v("Remove "),t("code",[e._v("key")]),e._v(" from "),t("code",[e._v("$alive.keys")]),e._v(".")])])])])])]),e._v(" "),t("li",[t("p",[e._v("Refresh page component.")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Remove cache of page.")])]),e._v(" "),t("li",[t("p",[e._v("Hide "),t("code",[e._v("<router-view>")]),e._v(" by "),t("code",[e._v("v-if")]),e._v(" and show it after transition ends or "),t("code",[e._v("nextTick")]),e._v(".")])])])]),e._v(" "),t("li",[t("p",[e._v("Get the routing depth where the current component is:")]),e._v(" "),t("p",[e._v("Recursively find the corresponding value of the nearest parent component with "),t("code",[e._v("$vnode.data.routerViewDepth")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("Nested Routes share same tabs:")]),e._v(" "),t("p",[e._v("Get "),t("code",[e._v("path")]),e._v(" of current matched route from "),t("code",[e._v("$route.matched")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("Visit page "),t("strong",[e._v("a")]),e._v(" from a keep-alive nested route, and go to a page of another route, then visit page "),t("strong",[e._v("b")]),e._v(" from the same nested route. The displayed page is still "),t("strong",[e._v("a")]),e._v(":")]),e._v(" "),t("p",[e._v("Run "),t("code",[e._v("$forceUpdate")]),e._v(" to force update the component on the page "),t("code",[e._v("activated")]),e._v(".")]),e._v(" "),t("p",[e._v("Side effect: Subroutine page "),t("strong",[e._v("a")]),e._v(" will still trigger the "),t("code",[e._v("activated")]),e._v(" hook")])]),e._v(" "),t("li",[t("p",[e._v("Iframe tab gets reloaded on switching:")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Extract "),t("code",[e._v("<iframe>")]),e._v(" to outer layer of "),t("code",[e._v("<router-view>")]),e._v(", and show/hide it via "),t("code",[e._v("v-show")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("Create a separate iframe route component, and manage "),t("code",[e._v("<iframe>")]),e._v(" dom element in lifecycle hook methods, i.e., add, show, hide and remove.")])])])]),e._v(" "),t("li",[t("p",[e._v("Js bundle size gets too big:")]),e._v(" "),t("p",[e._v("When building as lib, set "),t("code",[e._v("useBuiltIns")]),e._v(" to "),t("code",[e._v("false")]),e._v(" in "),t("code",[e._v("babel.config.js")]),e._v(", which means not including Polyfill in final bundle.")])])])])}),[],!1,null,null,null);o.default=_.exports}}]);